\hypertarget{dmx_operations_8h}{}\section{values\+\_\+handler/src/dmx\+Operations.h File Reference}
\label{dmx_operations_8h}\index{values\+\_\+handler/src/dmx\+Operations.\+h@{values\+\_\+handler/src/dmx\+Operations.\+h}}


Header for \hyperlink{dmx_operations_8c}{dmx\+Operations.\+c}.  


\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structdmx__exec}{dmx\+\_\+exec}
\begin{DoxyCompactList}\small\item\em Represents a decoded dmx input. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\hypertarget{dmx_operations_8h_aef1cca9c660476f24af7a1d98c2c63cf}{}typedef struct \hyperlink{structdmx__exec}{dmx\+\_\+exec} \hyperlink{dmx_operations_8h_aef1cca9c660476f24af7a1d98c2c63cf}{dmx\+\_\+exec\+\_\+t}\label{dmx_operations_8h_aef1cca9c660476f24af7a1d98c2c63cf}

\begin{DoxyCompactList}\small\item\em Represents a decoded dmx input. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{dmx_operations_8h_a0bc6723d5d4776ab7cdc646728b775f7}{T\+Y\+P\+E} \{ {\bfseries L\+I\+N\+E\+A\+R} = 0, 
{\bfseries C\+R\+E\+S} = 1, 
{\bfseries D\+R\+E\+S} = 2, 
{\bfseries S\+T\+R\+O\+B\+E} = 4
 \}\begin{DoxyCompactList}\small\item\em Enum of all transitions types. \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{dmx_operations_8h_aef1cca9c660476f24af7a1d98c2c63cf}{dmx\+\_\+exec\+\_\+t} $\ast$ \hyperlink{dmx_operations_8h_a324efd7876d9a8c97ee5e85379db1ecf}{decode\+D\+M\+X} (uint8\+\_\+t values\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Decodes the fetched web values. \end{DoxyCompactList}\item 
void \hyperlink{dmx_operations_8h_a638da49cc3972c71033e9116e2e81582}{execute\+D\+M\+X} (uint8\+\_\+t start\+Values\mbox{[}$\,$\mbox{]}, \hyperlink{dmx_operations_8h_aef1cca9c660476f24af7a1d98c2c63cf}{dmx\+\_\+exec\+\_\+t} $\ast$in)
\begin{DoxyCompactList}\small\item\em Runs the fetched and decoded transtion. \end{DoxyCompactList}\item 
void \hyperlink{dmx_operations_8h_a5fedf4ac8d5e98ec44ee4ea4179eb136}{execute\+Regular} (\hyperlink{dmx_operations_8h_aef1cca9c660476f24af7a1d98c2c63cf}{dmx\+\_\+exec\+\_\+t} $\ast$in, uint8\+\_\+t start\+Values\mbox{[}$\,$\mbox{]}, double($\ast$coef\+\_\+func)(const double))
\begin{DoxyCompactList}\small\item\em Runs a regular transition. \end{DoxyCompactList}\item 
void \hyperlink{dmx_operations_8h_aa49e7a9ea589a10a736ebbc4b0ec3993}{execute\+Strobe} (\hyperlink{dmx_operations_8h_aef1cca9c660476f24af7a1d98c2c63cf}{dmx\+\_\+exec\+\_\+t} $\ast$in, uint8\+\_\+t start\+Values\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Executes a strobe effect transtion. \end{DoxyCompactList}\item 
void \hyperlink{dmx_operations_8h_a4d885bdc095012e6d8c2b8ba397fe5cc}{start\+Time} (struct timeval $\ast$t0)
\begin{DoxyCompactList}\small\item\em Starts the timer. \end{DoxyCompactList}\item 
int \hyperlink{dmx_operations_8h_a102fe073a9c88a5c55dbd82b5ef1349d}{update\+Time} (struct timeval $\ast$t0, struct timeval $\ast$t1, unsigned int sleep\+Time)
\begin{DoxyCompactList}\small\item\em Handles updates between transition steps. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Header for \hyperlink{dmx_operations_8c}{dmx\+Operations.\+c}. 

\begin{DoxyAuthor}{Author}
Louis Blin 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
June 2015 
\end{DoxyDate}


\subsection{Enumeration Type Documentation}
\hypertarget{dmx_operations_8h_a0bc6723d5d4776ab7cdc646728b775f7}{}\index{dmx\+Operations.\+h@{dmx\+Operations.\+h}!T\+Y\+P\+E@{T\+Y\+P\+E}}
\index{T\+Y\+P\+E@{T\+Y\+P\+E}!dmx\+Operations.\+h@{dmx\+Operations.\+h}}
\subsubsection[{T\+Y\+P\+E}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf T\+Y\+P\+E}}\label{dmx_operations_8h_a0bc6723d5d4776ab7cdc646728b775f7}


Enum of all transitions types. 

Regular types -\/ defines transition for parameters\+: \subsection*{start \+: initial value}

\subsection*{end \+: end value}

\subsection*{fade\+\_\+ti \+: time of transition}

\subsection*{f(t) \+: coef in function of time}

At time t (t is in \mbox{[}0..fade\+\_\+ti\mbox{]}), current value is given by

F(t) = start + (end -\/ start) $\ast$ f(t / fade\+\_\+ti)

N\+B\+:The C\+R\+E\+S and D\+R\+E\+S were tests, but they happenned to be quite useless on the field. 

\subsection{Function Documentation}
\hypertarget{dmx_operations_8h_a324efd7876d9a8c97ee5e85379db1ecf}{}\index{dmx\+Operations.\+h@{dmx\+Operations.\+h}!decode\+D\+M\+X@{decode\+D\+M\+X}}
\index{decode\+D\+M\+X@{decode\+D\+M\+X}!dmx\+Operations.\+h@{dmx\+Operations.\+h}}
\subsubsection[{decode\+D\+M\+X(uint8\+\_\+t values[])}]{\setlength{\rightskip}{0pt plus 5cm}{\bf dmx\+\_\+exec\+\_\+t}$\ast$ decode\+D\+M\+X (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{values\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}\label{dmx_operations_8h_a324efd7876d9a8c97ee5e85379db1ecf}


Decodes the fetched web values. 

Decode the fetched values and creates a {\ttfamily dmx\+\_\+exec\+\_\+t} structure that represents the transition from the current state to the one described by the fetched values. N\+B\+: If the transition fade time interval is out of range, it is set to 1.


\begin{DoxyParams}{Parameters}
{\em values} & the fetched web values. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the {\ttfamily dmx\+\_\+exec\+\_\+t} struct object describing the transition. 
\end{DoxyReturn}
\hypertarget{dmx_operations_8h_a638da49cc3972c71033e9116e2e81582}{}\index{dmx\+Operations.\+h@{dmx\+Operations.\+h}!execute\+D\+M\+X@{execute\+D\+M\+X}}
\index{execute\+D\+M\+X@{execute\+D\+M\+X}!dmx\+Operations.\+h@{dmx\+Operations.\+h}}
\subsubsection[{execute\+D\+M\+X(uint8\+\_\+t start\+Values[], dmx\+\_\+exec\+\_\+t $\ast$in)}]{\setlength{\rightskip}{0pt plus 5cm}void execute\+D\+M\+X (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{start\+Values\mbox{[}$\,$\mbox{]}, }
\item[{{\bf dmx\+\_\+exec\+\_\+t} $\ast$}]{in}
\end{DoxyParamCaption}
)}\label{dmx_operations_8h_a638da49cc3972c71033e9116e2e81582}


Runs the fetched and decoded transtion. 

Execute the transition from the current spotlights state to the new one.


\begin{DoxyParams}{Parameters}
{\em start\+Values} & the current spotlight state. \\
\hline
{\em in} & the structure representing the transition to run. \\
\hline
\end{DoxyParams}
\hypertarget{dmx_operations_8h_a5fedf4ac8d5e98ec44ee4ea4179eb136}{}\index{dmx\+Operations.\+h@{dmx\+Operations.\+h}!execute\+Regular@{execute\+Regular}}
\index{execute\+Regular@{execute\+Regular}!dmx\+Operations.\+h@{dmx\+Operations.\+h}}
\subsubsection[{execute\+Regular(dmx\+\_\+exec\+\_\+t $\ast$in, uint8\+\_\+t start\+Values[], double($\ast$coef\+\_\+func)(const double))}]{\setlength{\rightskip}{0pt plus 5cm}void execute\+Regular (
\begin{DoxyParamCaption}
\item[{{\bf dmx\+\_\+exec\+\_\+t} $\ast$}]{in, }
\item[{uint8\+\_\+t}]{start\+Values\mbox{[}$\,$\mbox{]}, }
\item[{double($\ast$)(const double)}]{coef\+\_\+func}
\end{DoxyParamCaption}
)}\label{dmx_operations_8h_a5fedf4ac8d5e98ec44ee4ea4179eb136}


Runs a regular transition. 


\begin{DoxyParams}{Parameters}
{\em in} & the structure reprensenting the transition \\
\hline
{\em start\+Values} & the current state of the spotlights. \\
\hline
{\em coef\+\_\+func} & the a pointer to the function describing the speed at which the transtion is done. \\
\hline
\end{DoxyParams}
\hypertarget{dmx_operations_8h_aa49e7a9ea589a10a736ebbc4b0ec3993}{}\index{dmx\+Operations.\+h@{dmx\+Operations.\+h}!execute\+Strobe@{execute\+Strobe}}
\index{execute\+Strobe@{execute\+Strobe}!dmx\+Operations.\+h@{dmx\+Operations.\+h}}
\subsubsection[{execute\+Strobe(dmx\+\_\+exec\+\_\+t $\ast$in, uint8\+\_\+t start\+Values[])}]{\setlength{\rightskip}{0pt plus 5cm}void execute\+Strobe (
\begin{DoxyParamCaption}
\item[{{\bf dmx\+\_\+exec\+\_\+t} $\ast$}]{in, }
\item[{uint8\+\_\+t}]{start\+Values\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}\label{dmx_operations_8h_aa49e7a9ea589a10a736ebbc4b0ec3993}


Executes a strobe effect transtion. 

It flashes the received values and restores the original values at the end of the effect.


\begin{DoxyParams}{Parameters}
{\em in} & the structure reprenting the transition\+: effet last {\ttfamily in-\/$>$fade\+\_\+ti} seconds, and flashes at a fixed frequency of 1000/\+S\+T\+R\+O\+B\+E\+\_\+\+P\+E\+R\+I\+O\+D (N\+B\+: S\+T\+R\+O\+B\+E\+\_\+\+P\+E\+R\+I\+O\+D is in millis). \\
\hline
{\em start\+Values} & the initial values, that will be restored at the end. \\
\hline
\end{DoxyParams}
\hypertarget{dmx_operations_8h_a4d885bdc095012e6d8c2b8ba397fe5cc}{}\index{dmx\+Operations.\+h@{dmx\+Operations.\+h}!start\+Time@{start\+Time}}
\index{start\+Time@{start\+Time}!dmx\+Operations.\+h@{dmx\+Operations.\+h}}
\subsubsection[{start\+Time(struct timeval $\ast$t0)}]{\setlength{\rightskip}{0pt plus 5cm}void start\+Time (
\begin{DoxyParamCaption}
\item[{struct timeval $\ast$}]{t0}
\end{DoxyParamCaption}
)}\label{dmx_operations_8h_a4d885bdc095012e6d8c2b8ba397fe5cc}


Starts the timer. 


\begin{DoxyParams}{Parameters}
{\em t0} & a pointer that is assigned to the timer. \\
\hline
\end{DoxyParams}
\hypertarget{dmx_operations_8h_a102fe073a9c88a5c55dbd82b5ef1349d}{}\index{dmx\+Operations.\+h@{dmx\+Operations.\+h}!update\+Time@{update\+Time}}
\index{update\+Time@{update\+Time}!dmx\+Operations.\+h@{dmx\+Operations.\+h}}
\subsubsection[{update\+Time(struct timeval $\ast$t0, struct timeval $\ast$t1, unsigned int sleep\+Time)}]{\setlength{\rightskip}{0pt plus 5cm}int update\+Time (
\begin{DoxyParamCaption}
\item[{struct timeval $\ast$}]{t0, }
\item[{struct timeval $\ast$}]{t1, }
\item[{unsigned int}]{sleep\+Time}
\end{DoxyParamCaption}
)}\label{dmx_operations_8h_a102fe073a9c88a5c55dbd82b5ef1349d}


Handles updates between transition steps. 

Pauses the current thread until the next transition step, and stops the timer.


\begin{DoxyParams}{Parameters}
{\em t0} & the timer since the beginning of the cycle. \\
\hline
{\em t1} & the timer at the end of the cycle. \\
\hline
{\em sleep\+Time} & the time during which the thread must be paused. \\
\hline
\end{DoxyParams}
